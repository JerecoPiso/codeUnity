{% extends 'html/user_pages/user_base.html' %}


{% block user_page %}
	
		<span class="fa fa-bars" id="show"></span>
		<div class="flex-container">
			<div class="flex-item1">
				{% include 'html/user_pages/side_nav.html' %}
				
			</div>
			<div class="flex-item2">
				<p id="calendar"><span class="fa fa-clock mr-1"></span><span id="time"></span> <span id="date"></span><span class="fa fa-calendar right mr-1"></span> </p>
		
				<div class="row clear-float">
					
					<div class="col l12 s12 m12 xl12" id="projects" >
	
						<div class="MyModal" v-if="modalDel">
							<div class="ModalDialog">
								<div class="ModalHeader">
									<span class="fa fa-exclamation"></span>
								</div>
								<div class="ModalContent">
									<p>Are you sure you want to delete this project!</p>
								</div>
								<div class="ModalFooter">
									<button class="btn-ok" @click="deleteProject()">OK</button>
									<button class="btn-cancel" @click="modalDel = false;">Cancel</button>
									
									
								</div>
							</div>
						</div>
						<div class="table-div">
							<p class="my-projects">Uploaded Projects ([count])</p>
							<table class="striped responsive-table" >
								<thead>
								  <tr>
									  <th>Project Name</th>
									  <th>Language</th>
									  <th>No. of Downloads</th>
								
									  <th>Views</th>
									  <th>Action</th>
								  </tr>
								</thead>
						
								<tbody>
								  <tr v-for="p in project">
									<td>[p.project_name]</td>
									<td>[p.language]</td>
									<td>[p.downloads]</td>
									
									<td>[p.views]</td>
									<td style="overflow: auto"><a type="button" class="btn-view" v-bind:href="url+p.project_name"><span class="fa fa-eye"></span></a >
										<button class="btn-edit"><span class="fa fa-edit"></span></button>
										<button class="btn-delete" @click="id = p.id;modalDel = true;"><span class="fa fa-trash"></span></button></td>
								  </tr>
								
								</tbody>
							  </table>
						</div>
			
								
						
					</div>
					<!-- id projects end -->
					
				</div>
				<!-- class row clear-float end -->
				<div id="files" >
					<div class="MyModal" v-if="modalErr">
						<div class="ModalDialog">
							<div class="ModalHeader">
								<span class="fa fa-exclamation"></span>
							</div>
							<div class="ModalContent">
								<p>File size must not exceed over 10MB!</p>
							</div>
							<div class="ModalFooter">
								<button class="btn-ok" @click="modalErr = false">OK</button>
							</div>
						</div>
					</div>
					<p class="upload-proj">Upload a Project</p>
					<form  @submit.prevent="file()">
					   {% csrf_token %}
						  <div>
							  <label>Folder</label><br>
							  <input type='file' webkitdirectory ref="file" @change="handleFileUpload()" ><br> 
							  <label>About</label>
							  <div  id="about"></div>
							  <label>More</label>
							  <div  id="more"></div>
							  <label>Photo</label> <br>
							  <input type='file'  ref="photo" @change="photo()"><br> 
							  <label v-if="toShowLang">Language(Optional)</label> <button class="switch-btn"  @click="change()" v-html="text"></button>
							  <select v-if="toShowLang" class="browser-default" id="select" v-model="language">
								<option value="" disabled selected>Select Language</option>
								<option v-for="lang in languages" v-bind:value="lang.language">[ lang.language ]</option>
							  </select>
							  <label v-if="!toShowLang">Framework(Optional)</label>
							  <select v-if="!toShowLang" class="browser-default" id="select" v-model="language">
								<option value="" disabled selected>Select Framework</option>
								<option v-for="fw in frameworks" v-bind:value="fw.framework">[ fw.framework ]</option>
							  </select>
						  </div>
				   
					   <button  type="submit" id="upload-btn">Upload Project <span class="fa fa-upload"></span> </button>

					</form>
					
			</div> 
				<!-- id files end -->
			</div>
			<!-- class flex-item2 end -->
			
		</div>
		<!-- class flex-container end -->
		
{% endblock %}