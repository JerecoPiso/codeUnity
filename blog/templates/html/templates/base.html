<!DOCTYPE html>
<html>
<head>
	 {% load static %}
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="/media/page_logo.png">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>{{request.session.title}}</title>

	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/materialize.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'assets/fontawesome-free/css/all.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/index.css' %}">
	{% if request.session.title == 'Jobs' %}
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/jobs.css' %}">
	{% endif %}
	{% if request.session.title == 'Questions' %}
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/questionsz.css' %}">
	{% endif %}
	{% if request.session.title == 'Projects' %}
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/projects.css' %}">
	{% endif %}
	{% if request.session.title == 'Developers' %}
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/developers.css' %}">
	{% endif %}
	{% if request.session.title == 'viewProject' %}
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/view_projectteddd.css' %}">
	{% endif %}
	{% if request.session.title == 'viewQuestion' %}
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/prism-editorr.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/prism-tomorroww.css' %}">
	<!-- <link rel="stylesheet" type="text/css" href="{% static 'assets/css/prismmm.css' %}"> -->

	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/viewQuess.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/summernote-lite.min.css' %}">
	{% endif %}
</head>
<style>
	.spinner1{
		width: 100%;position: fixed;top: 0;bottom: 0;z-index: 2;padding-top: 20%;background-color: rgb(0,128,128);
	}
	#loader {
            border: 12px solid #f3f3f3;
            border-radius: 50%;
            border-top: 12px solid #444444;
            width: 70px;
            height: 70px;
            animation: spin 1s linear infinite;
        }
          
        @keyframes spin {
            100% {
                transform: rotate(360deg);
            }
        }
          
        .center {
            /* position: absolute; */
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
        }
 .rep{
	 border: 2px solid red;
 }
 .height-200{
    height: 200px  
  }
  
  .my-editor {
    /* we dont use `language-` classes anymore so thats why we need to add background and text color manually */
    background: #2d2d2d;
    color: #ccc;
	
    /* you must provide font-family font-size line-height. Example:*/
    font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;
    font-size: 14px;
    line-height: 1.5;
    padding: 5px;
	max-height: 400px;
	overflow: auto;
	border-radius: 0.3rem;
	width: 100%;
	margin-top: 5px;
	border-radius: 0.1rem;
  }
  .my-editor2 {
    /* we dont use `language-` classes anymore so thats why we need to add background and text color manually */
    background: #2d2d2d;
    color: #ccc;
	
    /* you must provide font-family font-size line-height. Example:*/
    font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;
    font-size: 14px;
    line-height: 1.5;
    padding: 5px;
	max-height: 400px;
	overflow: auto;
	border-radius: 0.3rem;
	width: 100%;
	margin-top: 5px;margin-left: 50px;border-radius: 0.1rem;max-width: 70%
  }
  /* optional class for removing the outline */
  .prism-editor__textarea:focus {
    outline: none;
  }
	.tag-link{
		background-color: rgba(0, 128, 255,0.9);
		color: white;
		margin-right: 10px;
		padding: 5px;
		font-size: 1px;
		border-radius: 0.5rem;
	}
	.skill-link{
		background-color: rgba(0, 128, 255,0.9);
		color: white;
		margin-right: 10px;
		padding: 2px;
		font-size: 1px;
		border-radius: 0.5rem;
	}
	#tags .tag-link:hover{
		border-bottom: none
	}
	.header-extra-style{
		top: 0;position: fixed;z-index: 1
	}
  </style>
<body>
	<div class="spinner1">

		<div id="loader" class="center">

		</div>
	</div>
	{% block main_page %}
    
    {% endblock %}

<script type="text/javascript" src="{% static 'assets/js/jquery.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/axios.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/vue.js' %}"></script>
{% if request.session.title == 'Home' %}
<script type="text/javascript" src="{% static 'assets/js/index.js' %}"></script>
{% endif %}
{% if request.session.title == 'viewQuestion' %}
<script type="text/javascript" src="{% static 'assets/js/prism.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/vue-prism-editorr.js' %}"></script>
<script src="{% static 'assets/js/viewQuestionxc.js' %}"></script>

{% endif %}
<script type="text/javascript" src="{% static 'assets/js/summernote-lite.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/moment.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/js/date_componentedddd.js' %}"></script>

<script type="text/javascript">

	var my_component = {
		delimiters: ['[', ']'],
		props:{
			
			skills: String,
			// dev_skills: String,
		
			
			
			
		},
		data: function(){

			return{
				tag: this.skills,
				dev_skills: String,
			}

		},
		created: function(){
			this.dev_skills = this.getTags(this.tag)
		
			// alert(this.dev_skills)
		},
		methods:{
			getTags: function(skill){
				var str = skill
			
				var n = null;
				var tags = ""
				// var num = str.search(",");
				while(str.length != 0){
					var ctr = str.search(",");
					if(ctr != -1){
						n = str.slice(0,ctr)
						str = str.slice(ctr+1,str.length)
					
						tags = tags+"<a href='/questions/tags/"+n+"' class='tag-link'>"+n+"</a>";
						
					}else{
						str = str.slice(0,str.length)
						tags = tags+"<a href='/questions/tags/"+str+"' class='tag-link'>"+str+"</a>";
					
						str = ""
						
						
					
					}
					
				}
			
				return tags
			}
		},
		template: '<div id="tags" style="margin: 10px 5px 5px 0;font-size: 10px" v-html="dev_skills"></div>'
	}
	var developers_skills = {
		delimiters: ['[', ']'],
		props:{
			
			skills: String,
			// dev_skills: String	
		},
		data: function(){

			return{
				skill: this.skills,
				dev_skills: String,
			}

		},
		created: function(){
			this.dev_skills = this.getSkills(this.skill)
		
			// alert(this.dev_skills)
		},
		methods:{
			getSkills: function(skill){
				var str = skill
			
				var n = null;
				var skill = ""
				// var num = str.search(",");
				while(str.length != 0){
					var ctr = str.search(",");
					if(ctr != -1){
						n = str.slice(0,ctr)
						str = str.slice(ctr+1,str.length)
					
						skill = skill+"<a href='/developers/skills/"+n+"' class='skill-link'>"+n+"</a>";
						
					}else{
						str = str.slice(0,str.length)
						skill = skill+"<a href='/developers/skills/"+str+"' class='skill-link'>"+str+"</a>";
					
						str = ""
						
						
					
					}
					
				}
			
				return skill
			}
		},
		template: '<div id="" style=" display: flex;flex-wrap: wrap;margin: -5px 5px 5px 0;font-size: 8px" v-html="dev_skills"></div>'
	}
	new Vue({
		el: "#developers",
		data:{
			search: ''
		},
		components:{
			"dev-skills": developers_skills
		},
		methods:{
			searchDevs: function(){
				
				window.location.href="/developers/search/"+this.search
			}
		}
	})
	new Vue({
		delimiters: ['[', ']'],
		el:"#ques",
		data:{
			
			category: '',
			searchValue: '',
		
		},
		components: {
		
		'my-component': my_component,
		

		},
		mounted: function(){
		// console.log(my_component.props.dev_skills.type)
			
		},
		methods: {
			searchQuestion: function(){
				let data = new FormData()
				data.append('search', this.searchValue)
				// axios.post('/projects/'+this.searchValue, data, {headers: {'X-CSRFToken': $('input[name=csrfmiddlewaretoken]').val()}}).then(function(response){
					
				// })
			
				if(this.searchValue != ""){
					window.location.href="/questions/"+this.searchValue
				}
			
			},
			getCategory: function(){
				window.location.href = '/questions/category/'+ this.category
			}
		}
	})
	new Vue({
		delimiters: ['[', ']'],
		el:"#searchQuestion",
		data:{
			
			category: '',
			searchValue: '',
		
		},
		mounted: function(){
		// console.log(my_component.props.dev_skills.type)
			// alert($("#totalComments").text())
		},
		methods: {
			searchQuestion: function(){
				let data = new FormData()
				data.append('search', this.searchValue)
				// axios.post('/projects/'+this.searchValue, data, {headers: {'X-CSRFToken': $('input[name=csrfmiddlewaretoken]').val()}}).then(function(response){
					
				// })
			
				if(this.searchValue != ""){
					window.location.href="/questions/"+this.searchValue
				}
			
			},
			getCategory: function(){
				window.location.href = '/questions/category/'+ this.category
			}
		}
	})


	new Vue({
		el:".projects-box",
		data:{
			searchValue: ''
		},
		components: {
		
			'my-componente': my_component,
			
	
		},
		methods: {
			download: function(project_name){
				 var idName = $("#"+project_name).text()
				 var totalDownloads = Number(idName.slice(0, idName.search(" ")))
				
				 window.location.href="/download/"+project_name
				
				 var newTotal = totalDownloads+1
				 if(newTotal <= 1){
					$("#"+project_name).text(newTotal.toString()+" Download")
				 }else{
					$("#"+project_name).text(newTotal.toString()+" Downloads")
				 }
				 
				},
			searchProjects: function(){
				let data = new FormData()
				data.append('search', this.searchValue)
			
				if(this.searchValue != ""){
					window.location.href="/projects/search/"+this.searchValue
				}
			
			}
		}
	})
	

  $('.btn-put-code').click(function(){
	  if($(this).text() != "Close"){
		$('.summernote').slideToggle()
		$(this).text("Close")
	  }else{
		$('.summernote').slideToggle()
		$(this).text("Put Code")
	  }
	 
  })
  $('#summernote').summernote({
        tabsize: 1,
		maxHeight: 120,
		
       
});
function setUserDevice(){
	var screenSize = document.body.clientWidth
	var deviceName = ''
	let data = new FormData()
	if(screenSize < 768){
		deviceName = "Mobile"
	}else if(screenSize >= 768 && screenSize < 992){
		deviceName = "Tablets"
	}else if(screenSize > 992 ){
		 deviceName = "Laptop/Desktop"
	}
	data.append("deviceName", deviceName)
	axios.post("/dashboard/setDevice", data, {headers: {'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value}}).then(function(response){

	}).catch(function(err){
		console.log(err.statusText)
	})
}
 $(document).ready(function(){
	setUserDevice()
	$('.hh').click(function(){
		// $(this).text()
		alert("sdf")
	})
	$('.upload-code').click(function(){
		window.location.href="/login/upload-project"
	})
	$('.closeModal').click(function(){
		$('.LoginModal').slideToggle()
	})
	$(".lang").hover(function(){

		$(this).find("span").show()

		$("#languages li").each(function(){
			if($(this).hasClass("show-chevron")){
				
				$(this).find("span").hide()
			}
		})
		if(!$(this).hasClass("show-chevron")){
			
			$(this).addClass("show-chevron")
			$(this).find("span").show()
		}else{
			
			$(this).removeClass("show-chevron")			
		}	
	})
	
	





	$(window).resize(function(){
       	if(document.body.clientWidth > 651){
       		$('#top-nav').css({'width': '100%'})
       		$('#open').hide() 	
       	}else if(document.body.clientWidth < 651){
       		$('#top-nav').css({'width': '0'})
       		$('#open').show() 	
       	}

       	if(document.body.clientWidth > 600 && document.body.clientWidth > 800){
			$('.languages-box').show()
       	}else{
			$('.languages-box').hide()
       	}
   	});

	$('#open').click(function(){
	 		
	 	$('#top-nav').css({'width': '45%'})
	 	$(this).hide()
	 	
	})
	$('.showSearch').click(function(){
	 		
			 $('.search-section').slideDown()
			 
			 
		})
		$('.x').click(function(){
	 		
			 $('.search-section').slideUp()
			 
			 
		})
	$('#close').click(function(){
	 		
	 	$('#top-nav').css({'width': '0'})
	 	$('#open').show() 	
	 	
	})
  	$('#btn-languages').click(function(){
	 		
	 	$('.languages-box').show()
	 	
	 	
	})
	$('#close-show').click(function(){
	 		
		$('.languages-box').hide()
	 	
	})
	
	})
	
  

</script>
<script>
	document.onreadystatechange = function() {
	
		if (document.readyState !== "complete") {
			document.querySelector(
			  "body").style.display = "none";
			document.querySelector(
			  ".spinner1").style.display = "block";
		
		} else {
			document.querySelector(
			  ".spinner1").style.display = "none";
			document.querySelector(
			  "body").style.display = "block";
		}
	};
</script>
</body>
</html>